define(["jquery"],function(a){function b(b){b=b.split(")");var c,d,e,f=a.trim,g=-1,h=b.length-1,j=t?new Float32Array(6):[],k=t?new Float32Array(6):[],l=t?new Float32Array(6):[1,0,0,1,0,0];for(j[0]=j[3]=l[0]=l[3]=1,j[1]=j[2]=j[4]=j[5]=0;++g<h;){switch(c=b[g].split("("),d=f(c[0]),e=c[1],k[0]=k[3]=1,k[1]=k[2]=k[4]=k[5]=0,d){case y+"X":k[4]=parseInt(e,10);break;case y+"Y":k[5]=parseInt(e,10);break;case y:e=e.split(","),k[4]=parseInt(e[0],10),k[5]=parseInt(e[1]||0,10);break;case z:e=i(e),k[0]=Math.cos(e),k[1]=Math.sin(e),k[2]=-Math.sin(e),k[3]=Math.cos(e);break;case A+"X":k[0]=+e;break;case A+"Y":k[3]=e;break;case A:e=e.split(","),k[0]=e[0],k[3]=e.length>1?e[1]:e[0];break;case B+"X":k[2]=Math.tan(i(e));break;case B+"Y":k[1]=Math.tan(i(e));break;case C:e=e.split(","),k[0]=e[0],k[1]=e[1],k[2]=e[2],k[3]=e[3],k[4]=parseInt(e[4],10),k[5]=parseInt(e[5],10)}l[0]=j[0]*k[0]+j[2]*k[1],l[1]=j[1]*k[0]+j[3]*k[1],l[2]=j[0]*k[2]+j[2]*k[3],l[3]=j[1]*k[2]+j[3]*k[3],l[4]=j[0]*k[4]+j[2]*k[5]+j[4],l[5]=j[1]*k[4]+j[3]*k[5]+j[5],j=[l[0],l[1],l[2],l[3],l[4],l[5]]}return l}function c(a){var b,c,d,e=a[0],f=a[1],g=a[2],h=a[3];return e*h-f*g?(b=Math.sqrt(e*e+f*f),e/=b,f/=b,d=e*g+f*h,g-=e*d,h-=f*d,c=Math.sqrt(g*g+h*h),g/=c,h/=c,d/=c,e*h<f*g&&(e=-e,f=-f,d=-d,b=-b)):b=c=d=0,[[y,[+a[4],+a[5]]],[z,Math.atan2(f,e)],[B+"X",Math.atan(d)],[A,[b,c]]]}function d(d,i){var k,l,m,n,o={start:[],end:[]},p=-1;if(("none"==d||f(d))&&(d=""),("none"==i||f(i))&&(i=""),d&&i&&!i.indexOf("matrix")&&j(d).join()==j(i.split(")")[0]).join()&&(o.origin=d,d="",i=i.slice(i.indexOf(")")+1)),d||i){if(d&&i&&g(d)!=g(i))o.start=c(b(d)),o.end=c(b(i));else for(d&&(d=d.split(")"))&&(k=d.length),i&&(i=i.split(")"))&&(k=i.length);++p<k-1;)d[p]&&(l=d[p].split("(")),i[p]&&(m=i[p].split("(")),n=a.trim((l||m)[0]),h(o.start,e(n,l?l[1]:0)),h(o.end,e(n,m?m[1]:0));return o}}function e(a,b){var d,e=+!a.indexOf(A),f=a.replace(/e[XY]/,"e");switch(a){case y+"Y":case A+"Y":b=[e,b?parseFloat(b):e];break;case y+"X":case y:case A+"X":d=1;case A:b=b?(b=b.split(","))&&[parseFloat(b[0]),parseFloat(b.length>1?b[1]:a==A?d||b[0]:e+"")]:[e,e];break;case B+"X":case B+"Y":case z:b=b?i(b):0;break;case C:return c(b?j(b):[1,0,0,1,0,0])}return[[f,b]]}function f(a){return v.test(a)}function g(a){return a.replace(/(?:\([^)]*\))|\s/g,"")}function h(a,b,c){for(;c=b.shift();)a.push(c)}function i(a){return~a.indexOf("deg")?parseInt(a,10)*(2*Math.PI/360):~a.indexOf("grad")?parseInt(a,10)*(Math.PI/200):parseFloat(a)}function j(a){return a=/([^,]*),([^,]*),([^,]*),([^,]*),([^,p]*)(?:px)?,([^)p]*)(?:px)?/.exec(a),[a[1],a[2],a[3],a[4],a[5],a[6]]}for(var k,l,m,n,o=document.createElement("div"),p=o.style,q="Transform",r=["O"+q,"ms"+q,"Webkit"+q,"Moz"+q],s=r.length,t=("Float32Array"in window),u=/Matrix([^)]*)/,v=/^\s*matrix\(\s*1\s*,\s*0\s*,\s*0\s*,\s*1\s*(?:,\s*0(?:px)?\s*){2}\)\s*$/,w="transform",x="transformOrigin",y="translate",z="rotate",A="scale",B="skew",C="matrix";s--;)r[s]in p&&(a.support[w]=k=r[s],a.support[x]=k+"Origin");k||(a.support.matrixFilter=l=""===p.filter),a.cssNumber[w]=a.cssNumber[x]=!0,k&&k!=w?(a.cssProps[w]=k,a.cssProps[x]=k+"Origin",k=="Moz"+q?m={get:function(b,c){return c?a.css(b,k).split("px").join(""):b.style[k]},set:function(a,b){a.style[k]=/matrix\([^)p]*\)/.test(b)?b.replace(/matrix((?:[^,]*,){4})([^,]*),([^)]*)/,C+"$1$2px,$3px"):b}}:/^1\.[0-5](?:\.|$)/.test(a.fn.jquery)&&(m={get:function(b,c){return c?a.css(b,k.replace(/^ms/,"Ms")):b.style[k]}})):l&&(m={get:function(b,c,d){var e,f,g=c&&b.currentStyle?b.currentStyle:b.style;return g&&u.test(g.filter)?(e=RegExp.$1.split(","),e=[e[0].split("=")[1],e[2].split("=")[1],e[1].split("=")[1],e[3].split("=")[1]]):e=[1,0,0,1],a.cssHooks[x]?(f=a._data(b,"transformTranslate",void 0),e[4]=f?f[0]:0,e[5]=f?f[1]:0):(e[4]=g?parseInt(g.left,10)||0:0,e[5]=g?parseInt(g.top,10)||0:0),d?e:C+"("+e+")"},set:function(c,d,e){var f,g,h,i,j=c.style;e||(j.zoom=1),d=b(d),g=["Matrix(M11="+d[0],"M12="+d[2],"M21="+d[1],"M22="+d[3],"SizingMethod='auto expand'"].join(),h=(f=c.currentStyle)&&f.filter||j.filter||"",j.filter=u.test(h)?h.replace(u,g):h+" progid:DXImageTransform.Microsoft."+g+")",a.cssHooks[x]?a.cssHooks[x].set(c,d):((i=a.transform.centerOrigin)&&(j["margin"==i?"marginLeft":"left"]=-(c.offsetWidth/2)+c.clientWidth/2+"px",j["margin"==i?"marginTop":"top"]=-(c.offsetHeight/2)+c.clientHeight/2+"px"),j.left=d[4]+"px",j.top=d[5]+"px")}}),m&&(a.cssHooks[w]=m),n=m&&m.get||a.css,a.fx.step.transform=function(b){var c,e,f,g,h=b.elem,i=b.start,j=b.end,o=b.pos,p="",q=1e5;for(i&&"string"!=typeof i||(i||(i=n(h,k)),l&&(h.style.zoom=1),j=j.split("+=").join(i),a.extend(b,d(i,j)),i=b.start,j=b.end),c=i.length;c--;)switch(e=i[c],f=j[c],g=0,e[0]){case y:g="px";case A:g||(g=""),p=e[0]+"("+Math.round((e[1][0]+(f[1][0]-e[1][0])*o)*q)/q+g+","+Math.round((e[1][1]+(f[1][1]-e[1][1])*o)*q)/q+g+")"+p;break;case B+"X":case B+"Y":case z:p=e[0]+"("+Math.round((e[1]+(f[1]-e[1])*o)*q)/q+"rad)"+p}b.origin&&(p=b.origin+p),m&&m.set?m.set(h,p,1):h.style[k]=p},a.transform={centerOrigin:"margin"}});